(function(){function B(b,a,d,h,t){a&&k(a,function(a){var b=document.createElement("link");b.href=(a.indexOf("://")>0?a:d+a)+(h?h:"");b.rel="stylesheet";b.type="text/css";document.getElementsByTagName("head")[0].appendChild(b)});k(b,function(a){a=(a.indexOf("://")>0?a:d+a)+(h?h:"");s.$LAB.queueScript(a).queueWait()});s.$LAB.queueWait(function(){t&&t()});s.$LAB.runQueue()}function C(b,a,d){var h;h=function(){try{h=new XMLHttpRequest}catch(a){k(["MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0",
"MSXML2.XMLHTTP","Microsoft.XMLHTTP"],function(a){try{h=new ActiveXObject(a)}catch(b){}})}return h}();h.open("GET",b+(a?a:""));h.onreadystatechange=function(){h.readyState==4&&h.status==200&&d(h.responseText);return!0};h.send(null)}function k(b,a,d){if(b!=null)for(var h=0,t=b.length;h<t;h++)if(h in b&&a.call(d,b[h],h,b)==={})break}function D(b){var a=[],d;for(d in b)hasOwnProperty.call(b,d)&&(a[a.length]=d);return a}function E(b,a){if(b==null)return-1;for(var d=0,h=b.length;d<h;d++)if(b[d]===a)return d;
return-1}function F(b){k(Array.prototype.slice.call(arguments,1),function(a){for(var d in a)a[d]!==void 0&&(b[d]=a[d])});return b}function G(b){for(var a=-1,d=b.length;b.charCodeAt(--d)<33;);for(;b.charCodeAt(++a)<33;);return b.slice(a,d+1)}function A(b){if(!b)return null;b.indexOf("?")>-1&&(b=b.substring(0,b.indexOf("?")));return b.match(/(\w*)\.\w*$/)[1]}var H={isDebugging:!1,assets:"assets.yml",jsAssets:[],cssAssets:[],env:"production",path:"",templateNs:"window.JST",templateExt:"jst",templateFunc:"",
cb:"(function(){})"},I=function(){function b(a){return eval(a+"="+a+"||{};")}function a(a,b,d){a[b]=function(a){return new Function("obj","var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(a,c){return"',"+c.replace(/\\'/g,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(a,c){return"');"+c.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,
"\\t")+"');}return __p.join('');")}(d)}function d(a,b,d,i){d=d.replace(/"/g,'\\"').replace(/(\r)?\n/g,"");a[b]=eval(i+'("'+d+'")')}return{compile:function(h,t,y,i){h=b(h);i?d(h,t,y,i):a(h,t,y)}}}(),s={};(function(b){function a(a,c){var e=/^\w+\:\/\//;/^\/\/\/?/.test(a)?a=location.protocol+a:!e.test(a)&&a.charAt(0)!="/"&&(a=(c||"")+a);return e.test(a)?a:(a.charAt(0)=="/"?z:v)+a}function d(a,c){for(var e in a)a.hasOwnProperty(e)&&(c[e]=a[e]);return c}function h(a,e,c,g){a.onload=a.onreadystatechange=
function(){if(!(a.readyState&&a.readyState!="complete"&&a.readyState!="loaded"||e[c]))a.onload=a.onreadystatechange=null,g()}}function t(a){a.ready=a.finished=!0;for(var e=0;e<a.finished_listeners.length;e++)a.finished_listeners[e]();a.ready_listeners=[];a.finished_listeners=[]}function y(a,e,g,b,n){setTimeout(function(){var f,d=e.real_src,m;if("item"in j){if(!j[0]){setTimeout(arguments.callee,25);return}j=j[0]}f=document.createElement("script");if(e.type)f.type=e.type;if(e.charset)f.charset=e.charset;
if(n)w?(g.elem=f,o?(f.preload=!0,f.onpreload=b):f.onreadystatechange=function(){f.readyState=="loaded"&&b()},f.src=d):n&&d.indexOf(z)==0&&a[c]?(m=new XMLHttpRequest,m.onreadystatechange=function(){if(m.readyState==4)m.onreadystatechange=function(){},g.text=m.responseText+"\n//@ sourceURL="+d,b()},m.open("GET",d),m.send()):(f.type="text/cache-script",h(f,g,"ready",function(){j.removeChild(f);b()}),f.src=d,j.insertBefore(f,j.firstChild));else{if(l)f.async=!1;h(f,g,"finished",b);f.src=d;j.insertBefore(f,
j.firstChild)}},0)}function i(){function l(a,e,c){function g(){b!=null&&(b=null,t(c))}var b;if(!r[e.src].finished){if(!a[f])r[e.src].finished=!0;b=c.elem||document.createElement("script");if(e.type)b.type=e.type;if(e.charset)b.charset=e.charset;h(b,c,"finished",g);c.elem?c.elem=null:c.text?(b.onload=b.onreadystatechange=null,b.text=c.text):b.src=e.real_src;j.insertBefore(b,j.firstChild);c.text&&g()}}function v(e,c,b,n){var d,h,j=function(){c.ready_cb(c,function(){l(e,c,d)})},i=function(){c.finished_cb(c,
b)};c.src=a(c.src,e[g]);c.real_src=c.src+(e[m]?(/\?.*$/.test(c.src)?"&_":"?_")+~~(Math.random()*1E9)+"=":"");r[c.src]||(r[c.src]={items:[],finished:!1});h=r[c.src].items;e[f]||h.length==0?(d=h[h.length]={ready:!1,finished:!1,ready_listeners:[j],finished_listeners:[i]},y(e,c,d,n?function(){d.ready=!0;for(var a=0;a<d.ready_listeners.length;a++)d.ready_listeners[a]();d.ready_listeners=[]}:function(){t(d)},n)):(d=h[0],d.finished?i():d.finished_listeners.push(i))}function q(){function a(e,b){e.ready=!0;
e.exec_trigger=b;c()}function e(a,b){a.ready=a.finished=!0;a.exec_trigger=null;for(var f=0;f<b.scripts.length;f++)if(!b.scripts[f].finished)return;b.finished=!0;c()}function c(){for(;m<f.length;)if(Object.prototype.toString.call(f[m])=="[object Function]")try{f[m++]()}catch(a){}else{if(!f[m].finished){for(var e=f[m],b=!1,g=0;g<e.scripts.length;g++)if(e.scripts[g].ready&&e.scripts[g].exec_trigger)b=!0,e.scripts[g].exec_trigger(),e.scripts[g].exec_trigger=null;if(b)continue;break}m++}m==f.length&&(i=
h=!1)}var b,g=d(k,{}),f=[],m=0,h=!1,i;b={script:function(){for(var c=0;c<arguments.length;c++)(function(c,m){var j;Object.prototype.toString.call(c)=="[object Array]"||(m=[c]);for(var l=0;l<m.length;l++){if(!i||!i.scripts)f.push(i={scripts:[],finished:!0});c=m[l];Object.prototype.toString.call(c)=="[object Function]"&&(c=c());if(c)Object.prototype.toString.call(c)=="[object Array]"?(j=[].slice.call(c),j.unshift(l,1),[].splice.apply(m,j),l--):(typeof c=="string"&&(c={src:c}),c=d(c,{ready:!1,ready_cb:a,
finished:!1,finished_cb:e}),i.finished=!1,i.scripts.push(c),v(g,c,i,z&&h),h=!0,g[n]&&b.wait())}})(arguments[c],arguments[c]);return b},wait:function(){if(arguments.length>0){for(var a=0;a<arguments.length;a++)f.push(arguments[a]);i=f[f.length-1]}else i=!1;c();return b}};return{script:b.script,wait:b.wait,setOptions:function(a){d(a,g);return b}}}var k={},z=w||u,o=[],r={},p;k[c]=!0;k[n]=!1;k[f]=!1;k[m]=!1;k[g]="";return p={setGlobalDefaults:function(a){d(a,k);return p},setOptions:function(){return q().setOptions.apply(null,
arguments)},script:function(){return q().script.apply(null,arguments)},wait:function(){return q().wait.apply(null,arguments)},queueScript:function(){o[o.length]={type:"script",args:[].slice.call(arguments)};return p},queueWait:function(){o[o.length]={type:"wait",args:[].slice.call(arguments)};return p},runQueue:function(){for(var a=p,c=o.length,e;--c>=0;)e=o.shift(),a=a[e.type].apply(null,e.args);return a},noConflict:function(){b.$LAB=e;return p},sandbox:function(){return i()}}}var e=b.$LAB,c="UseLocalXHR",
n="AlwaysPreserveOrder",f="AllowDuplicates",m="CacheBust",g="BasePath",v=/^[^?#]*\//.exec(location.href)[0],z=/^\w+\:\/\/\/?[^\/]+/.exec(v)[0],j=document.head||document.getElementsByTagName("head"),q=b.opera&&Object.prototype.toString.call(b.opera)=="[object Opera]"||"MozAppearance"in document.documentElement.style,k=document.createElement("script"),o=typeof k.preload=="boolean",w=o||k.readyState&&k.readyState=="uninitialized",l=!w&&k.async===!0,u=!w&&!l&&!q;b.$LAB=i();(function(a,c,e){if(document.readyState==
null&&document[a])document.readyState="loading",document[a](c,e=function(){document.removeEventListener(c,e,!1);document.readyState="complete"},!1)})("addEventListener","DOMContentLoaded")})(s);s.$LAB.setOptions({AlwaysPreserveOrder:!0,AllowDuplicates:!0});var J=function(){function b(a){return{parent:null,length:0,level:a,lines:[],children:[],addChild:function(a){this.children.push(a);a.parent=this;++this.length}}}function a(e){var e=e.replace(i.trim,""),c=null;if(e=="true")return!0;else if(e=="false")return!1;
else if(e==".NaN")return Number.NaN;else if(e=="null")return null;else if(e==".inf")return Number.POSITIVE_INFINITY;else if(e=="-.inf")return Number.NEGATIVE_INFINITY;else if(c=e.match(i.dashesString))return c[1];else if(c=e.match(i.quotesString))return c[1];else if(c=e.match(i["float"]))return parseFloat(c[0]);else if(c=e.match(i.integer))return parseInt(c[0]);else if(c=e.match(i.single_key_value))return e={},e[c[1]]=a(c[2]),e;else if(c=e.match(i.array)){for(var b=0,f=" ",e=[],d="",g=!1,h=0,k=c[1].length;h<
k;++h){f=c[1][h];if(f=="'"||f=='"')if(g===!1){g=f;d+=f;continue}else{if(f=="'"&&g=="'"||f=='"'&&g=='"'){g=!1;d+=f;continue}}else if(g===!1&&(f=="["||f=="{"))++b;else if(g===!1&&(f=="]"||f=="}"))--b;else if(g===!1&&b==0&&f==","){e.push(a(d));d="";continue}d+=f}d.length>0&&e.push(a(d));return e}else if(c=e.match(i.map)){b=0;e=[];d="";g=!1;h=0;for(k=c[1].length;h<k;++h){f=c[1][h];if(f=="'"||f=='"')if(g===!1){g=f;d+=f;continue}else{if(f=="'"&&g=="'"||f=='"'&&g=='"'){g=!1;d+=f;continue}}else if(g===!1&&
(f=="["||f=="{"))++b;else if(g===!1&&(f=="]"||f=="}"))--b;else if(g===!1&&b==0&&f==","){e.push(d);d="";continue}d+=f}d.length>0&&e.push(d);b={};h=0;for(k=e.length;h<k;++h)if(c=e[h].match(i.key_value))b[c[1]]=a(c[2]);return b}else return e}function d(a){for(var c=a.children,a=[a.lines.join(" ")],b=0,f=c.length;b<f;++b)a.push(d(c[b]));return a.join("\n")}function h(a){for(var c=a.children,a=a.lines.join("\n"),b=0,f=c.length;b<f;++b)a+=h(c[b]);return a}function k(b){for(var c=null,n={},f=null,m=null,
g=null,v=-1,p=[],j=!0,q=0,x=b.length;q<x;++q)if(!(v!=-1&&v!=b[q].level)){p.push(q);for(var v=b[q].level,f=b[q].lines,m=b[q].children,g=null,r=0,w=f.length;r<w;++r){var l=f[r];if(c=l.match(i.key))if(l=c[1],l[0]=="-"&&(l=l.replace(i.item,""),j&&typeof n.length==="undefined"&&(n=[]),g!=null&&n.push(g),g={},j=!0),typeof c[2]!="undefined")if(c=c[2].replace(i.trim,""),c[0]=="&"){var u=k(m);g!=null?g[l]=u:n[l]=u;o[c.substr(1)]=u}else if(c[0]=="|")g!=null?g[l]=h(m.shift()):n[l]=h(m.shift());else if(c[0]==
"*"){if(c=c.substr(1),u={},typeof o[c]!="undefined"){for(var s in o[c])u[s]=o[c][s];g!=null?g[l]=u:n[l]=u}}else c[0]==">"?g!=null?g[l]=d(m.shift()):n[l]=d(m.shift()):g!=null?g[l]=a(c):n[l]=a(c);else g!=null?g[l]=k(m):n[l]=k(m);else if(l.match(/^-\s*$/))j&&typeof n.length==="undefined"&&(n=[]),g!=null&&n.push(g),g={},j=!0;else if(c=l.match(/^-\s*(.*)/))g!=null?g.push(a(c[1])):(j&&(j=!1,typeof n.length==="undefined"&&(n=[])),n.push(a(c[1])))}g!=null&&(j&&(j=!1,typeof n.length==="undefined"&&(n=[])),
n.push(g))}for(q=p.length-1;q>=0;--q)b.splice.call(b,p[q],1);return n}var o=[],i={regLevel:/^([\s\-]+)/,invalidLine:/^\-\-\-|^\.\.\.|^\s*#.*|^\s*$/,dashesString:/^\s*\"([^\"]*)\"\s*$/,quotesString:/^\s*\'([^\']*)\'\s*$/,"float":/^[+-]?[0-9]+\.[0-9]+(e[+-]?[0-9]+(\.[0-9]+)?)?$/,integer:/^[+-]?[0-9]+$/,array:/\[\s*(.*)\s*\]/,map:/\{\s*(.*)\s*\}/,key_value:/([a-z0-9_-][ a-z0-9_-]*):( .+)/i,single_key_value:/^([a-z0-9_-][ a-z0-9_-]*):( .+?)$/i,key:/([a-z0-9_-][ a-z0-9_-]+):( .+)?/i,item:/^-\s+/,trim:/^\s+|\s+$/,
comment:/([^\'\"#]+([\'\"][^\'\"]*[\'\"])*)*(#.*)?/};return{eval:function(a){o=[];var c;c=a.split("\n");var d=i.comment,f;for(f in c)if(a=c[f].match(d))typeof a[3]!=="undefined"&&(c[f]=a[0].substr(0,a[0].length-a[3].length));c=c.join("\n");var h;a:{f=i.regLevel;a=i.invalidLine;c=c.split("\n");var g=d=0,p=[],s=new b(-1),j=new b(0);s.addChild(j);var q=[],x="";p.push(j);q.push(d);for(var r=0,w=c.length;r<w;++r)if(x=c[r],!x.match(a)){d=(h=f.exec(x))?h[1].length:0;if(d>g)g=j,j=new b(d),g.addChild(j),p.push(j),
q.push(d);else if(d<g){for(var g=!1,l=q.length-1;l>=0;--l)if(q[l]==d){j=new b(d);p.push(j);q.push(d);p[l].parent!=null&&p[l].parent.addChild(j);g=!0;break}if(!g){h=void 0;break a}}j.lines.push(x.replace(i.trim,""));g=d}h=s}return k(h.children)}}}(),o,p=(document.getElementsByTagName("head")[0]||document.documentElement).firstChild;p&&p.tagName==="SCRIPT"&&p.src.indexOf("gettit")>0?o=p:(p=document.getElementsByTagName("script"),o=p[p.length-1]);(function(b){var a=F(H,b),d="?r="+(new Date).getTime(),
h=function(){a.cb&&eval(a.cb+"()")};if(a.env==="production"&&!a.isDebugging)B(a.jsAssets,a.cssAssets,a.path,"",h);else{var o=[],p=[];k(a.jsAssets,function(a){o.push(A(a))});k(a.cssAssets,function(a){p.push(A(a))});C(a.path+a.assets,d,function(b){var e=J.eval(b),c=[],n=[],f=[];F(a,{templateFunc:e.template_function,templateNs:e.template_namespace,templateExt:e.template_extension});k(D(e.javascripts),function(b){E(o,b)>-1&&k(e.javascripts[b],function(b){b.substr(b.length-3)===".js"?c.push(b):b.substr(b.length-
a.templateExt.length)===a.templateExt&&f.push(b)})});k(D(e.stylesheets),function(a){E(p,a)>-1&&(n=n.concat(e.stylesheets[a]))});B(c,n,a.path,d,function(){f.length||h();var b=0;k(f,function(c){C(a.path+c,d,function(d){I.compile(a.templateNs,A(c),d,a.templateFunc);++b===f.length&&h()})})})})}})({isDebugging:(/debug_assets=(.+?)(&|$)/.exec(location.search)||[,null])[1]==="true",jsAssets:function(){var b=[];k(o.getAttribute("data-js-assets")&&o.getAttribute("data-js-assets").split(",")||[],function(a){b.push(G(a))});
return b}(),cssAssets:function(){var b=[];k(o.getAttribute("data-css-assets")&&o.getAttribute("data-css-assets").split(",")||[],function(a){b.push(G(a))});return b}(),assets:o.getAttribute("data-assets")||void 0,env:o.getAttribute("data-env")||void 0,path:o.getAttribute("data-env-path")||void 0,cb:o.getAttribute("data-callback")||void 0})})();
