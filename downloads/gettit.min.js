(function(){function A(c,a,f,h,p){a&&m(a,function(a){var c=document.createElement("link");c.href=(a.indexOf("://")>0?a:f+a)+(h?h:"");c.rel="stylesheet";c.type="text/css";document.getElementsByTagName("head")[0].appendChild(c)});m(c,function(a){a=(a.indexOf("://")>0?a:f+a)+(h?h:"");t.$LAB.queueScript(a).queueWait()});t.$LAB.queueWait(function(){p&&p()});t.$LAB.runQueue()}function B(c,a,f){var h,p=navigator.appName=="Microsoft Internet Explorer",v=c.indexOf("://")>0&&/^\w+\:\/\/\/?[^\/]+/.exec(c)[0]!=
/^\w+\:\/\/\/?[^\/]+/.exec(location.href)[0];h=p&&v?new XDomainRequest:new XMLHttpRequest;h.open("GET",c+(a?a:""));h.onreadystatechange=function(){h.readyState==4&&h.status==200&&f(h.responseText);return!0};h.send(null)}function m(c,a,f){if(c!=null)for(var h=0,p=c.length;h<p;h++)if(h in c&&a.call(f,c[h],h,c)==={})break}function C(c){var a=[],f;for(f in c)hasOwnProperty.call(c,f)&&(a[a.length]=f);return a}function D(c,a){if(c==null)return-1;for(var f=0,h=c.length;f<h;f++)if(c[f]===a)return f;return-1}
function E(c){m(Array.prototype.slice.call(arguments,1),function(a){for(var f in a)a[f]!==void 0&&(c[f]=a[f])});return c}function F(c){for(var a=-1,f=c.length;c.charCodeAt(--f)<33;);for(;c.charCodeAt(++a)<33;);return c.slice(a,f+1)}function z(c){if(!c)return null;c.indexOf("?")>-1&&(c=c.substring(0,c.indexOf("?")));return c.match(/(\w*)\.\w*$/)[1]}var G={isDebugging:!1,assets:"assets.yml",jsAssets:[],cssAssets:[],env:"production",path:"",templateNs:"window.JST",templateExt:"jst",templateFunc:"",version:"",
cb:"(function(){})"},H=function(){function c(a,c,p){a[c]=function(a){return new Function("obj","var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(a,d){return"',"+d.replace(/\\'/g,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(a,d){return"');"+d.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');")}(p)}
function a(a,c,p,v){p=p.replace(/"/g,'\\"').replace(/(\r)?\n/g,"");a[c]=eval(v+'("'+p+'")')}return{compile:function(f,h,p,v){f=eval(f+"="+f+"||{};");v?a(f,h,p,v):c(f,h,p)}}}(),t={};(function(c){function a(a,d){var b=/^\w+\:\/\//;/^\/\/\/?/.test(a)?a=location.protocol+a:!b.test(a)&&a.charAt(0)!="/"&&(a=(d||"")+a);return b.test(a)?a:(a.charAt(0)=="/"?x:y)+a}function f(a,d){for(var b in a)a.hasOwnProperty(b)&&(d[b]=a[b]);return d}function h(a,d,b,c){a.onload=a.onreadystatechange=function(){if(!(a.readyState&&
a.readyState!="complete"&&a.readyState!="loaded"||d[b]))a.onload=a.onreadystatechange=null,c()}}function p(a){a.ready=a.finished=!0;for(var d=0;d<a.finished_listeners.length;d++)a.finished_listeners[d]();a.ready_listeners=[];a.finished_listeners=[]}function v(a,d,c,e,s){setTimeout(function(){var g,f=d.real_src,i;if("item"in j){if(!j[0]){setTimeout(arguments.callee,25);return}j=j[0]}g=document.createElement("script");if(d.type)g.type=d.type;if(d.charset)g.charset=d.charset;if(s)w?(c.elem=g,l?(g.preload=
!0,g.onpreload=e):g.onreadystatechange=function(){g.readyState=="loaded"&&e()},g.src=f):s&&f.indexOf(x)==0&&a[b]?(i=new XMLHttpRequest,i.onreadystatechange=function(){if(i.readyState==4)i.onreadystatechange=function(){},c.text=i.responseText+"\n//@ sourceURL="+f,e()},i.open("GET",f),i.send()):(g.type="text/cache-script",h(g,c,"ready",function(){j.removeChild(g);e()}),g.src=f,j.insertBefore(g,j.firstChild));else{if(k)g.async=!1;h(g,c,"finished",e);g.src=f;j.insertBefore(g,j.firstChild)}},0)}function n(){function k(a,
d,b){function c(){e!=null&&(e=null,p(b))}var e;if(!r[d.src].finished){if(!a[g])r[d.src].finished=!0;e=b.elem||document.createElement("script");if(d.type)e.type=d.type;if(d.charset)e.charset=d.charset;h(e,b,"finished",c);b.elem?b.elem=null:b.text?(e.onload=e.onreadystatechange=null,e.text=b.text):e.src=d.real_src;j.insertBefore(e,j.firstChild);b.text&&c()}}function y(d,b,c,s){var f,h,j=function(){b.ready_cb(b,function(){k(d,b,f)})},n=function(){b.finished_cb(b,c)};b.src=a(b.src,d[e]);b.real_src=b.src+
(d[i]?(/\?.*$/.test(b.src)?"&_":"?_")+~~(Math.random()*1E9)+"=":"");r[b.src]||(r[b.src]={items:[],finished:!1});h=r[b.src].items;d[g]||h.length==0?(f=h[h.length]={ready:!1,finished:!1,ready_listeners:[j],finished_listeners:[n]},v(d,b,f,s?function(){f.ready=!0;for(var a=0;a<f.ready_listeners.length;a++)f.ready_listeners[a]();f.ready_listeners=[]}:function(){p(f)},s)):(f=h[0],f.finished?n():f.finished_listeners.push(n))}function q(){function a(d,e){d.ready=!0;d.exec_trigger=e;b()}function d(a,e){a.ready=
a.finished=!0;a.exec_trigger=null;for(var g=0;g<e.scripts.length;g++)if(!e.scripts[g].finished)return;e.finished=!0;b()}function b(){for(;i<g.length;)if(Object.prototype.toString.call(g[i])=="[object Function]")try{g[i++]()}catch(a){}else{if(!g[i].finished){for(var d=g[i],e=!1,c=0;c<d.scripts.length;c++)if(d.scripts[c].ready&&d.scripts[c].exec_trigger)e=!0,d.scripts[c].exec_trigger(),d.scripts[c].exec_trigger=null;if(e)continue;break}i++}i==g.length&&(j=h=!1)}var e,c=f(m,{}),g=[],i=0,h=!1,j;e={script:function(){for(var b=
0;b<arguments.length;b++)(function(b,i){var k;Object.prototype.toString.call(b)=="[object Array]"||(i=[b]);for(var n=0;n<i.length;n++){if(!j||!j.scripts)g.push(j={scripts:[],finished:!0});b=i[n];Object.prototype.toString.call(b)=="[object Function]"&&(b=b());if(b)Object.prototype.toString.call(b)=="[object Array]"?(k=[].slice.call(b),k.unshift(n,1),[].splice.apply(i,k),n--):(typeof b=="string"&&(b={src:b}),b=f(b,{ready:!1,ready_cb:a,finished:!1,finished_cb:d}),j.finished=!1,j.scripts.push(b),y(c,
b,j,x&&h),h=!0,c[s]&&e.wait())}})(arguments[b],arguments[b]);return e},wait:function(){if(arguments.length>0){for(var a=0;a<arguments.length;a++)g.push(arguments[a]);j=g[g.length-1]}else j=!1;b();return e}};return{script:e.script,wait:e.wait,setOptions:function(b){f(b,c);return e}}}var m={},x=w||u,l=[],r={},o;m[b]=!0;m[s]=!1;m[g]=!1;m[i]=!1;m[e]="";return o={setGlobalDefaults:function(b){f(b,m);return o},setOptions:function(){return q().setOptions.apply(null,arguments)},script:function(){return q().script.apply(null,
arguments)},wait:function(){return q().wait.apply(null,arguments)},queueScript:function(){l[l.length]={type:"script",args:[].slice.call(arguments)};return o},queueWait:function(){l[l.length]={type:"wait",args:[].slice.call(arguments)};return o},runQueue:function(){for(var b=o,a=l.length,d;--a>=0;)d=l.shift(),b=b[d.type].apply(null,d.args);return b},noConflict:function(){c.$LAB=d;return o},sandbox:function(){return n()}}}var d=c.$LAB,b="UseLocalXHR",s="AlwaysPreserveOrder",g="AllowDuplicates",i="CacheBust",
e="BasePath",y=/^[^?#]*\//.exec(location.href)[0],x=/^\w+\:\/\/\/?[^\/]+/.exec(y)[0],j=document.head||document.getElementsByTagName("head"),q=c.opera&&Object.prototype.toString.call(c.opera)=="[object Opera]"||"MozAppearance"in document.documentElement.style,m=document.createElement("script"),l=typeof m.preload=="boolean",w=l||m.readyState&&m.readyState=="uninitialized",k=!w&&m.async===!0,u=!w&&!k&&!q;c.$LAB=n();(function(b,a,d){if(document.readyState==null&&document[b])document.readyState="loading",
document[b](a,d=function(){document.removeEventListener(a,d,!1);document.readyState="complete"},!1)})("addEventListener","DOMContentLoaded")})(t);t.$LAB.setOptions({AlwaysPreserveOrder:!0,AllowDuplicates:!0});var J=function(){function c(a){return{parent:null,length:0,level:a,lines:[],children:[],addChild:function(b){this.children.push(b);b.parent=this;++this.length}}}function a(d){var d=d.replace(n.trim,""),b=null;if(d=="true")return!0;else if(d=="false")return!1;else if(d==".NaN")return Number.NaN;
else if(d=="null")return null;else if(d==".inf")return Number.POSITIVE_INFINITY;else if(d=="-.inf")return Number.NEGATIVE_INFINITY;else if(b=d.match(n.dashesString))return b[1];else if(b=d.match(n.quotesString))return b[1];else if(b=d.match(n["float"]))return parseFloat(b[0]);else if(b=d.match(n.integer))return parseInt(b[0]);else if(b=d.match(n.single_key_value))return d={},d[b[1]]=a(b[2]),d;else if(b=d.match(n.array)){for(var c=0,g=" ",d=[],i="",e=!1,f=0,h=b[1].length;f<h;++f){g=b[1][f];if(g=="'"||
g=='"')if(e===!1){e=g;i+=g;continue}else{if(g=="'"&&e=="'"||g=='"'&&e=='"'){e=!1;i+=g;continue}}else if(e===!1&&(g=="["||g=="{"))++c;else if(e===!1&&(g=="]"||g=="}"))--c;else if(e===!1&&c==0&&g==","){d.push(a(i));i="";continue}i+=g}i.length>0&&d.push(a(i));return d}else if(b=d.match(n.map)){c=0;d=[];i="";e=!1;f=0;for(h=b[1].length;f<h;++f){g=b[1][f];if(g=="'"||g=='"')if(e===!1){e=g;i+=g;continue}else{if(g=="'"&&e=="'"||g=='"'&&e=='"'){e=!1;i+=g;continue}}else if(e===!1&&(g=="["||g=="{"))++c;else if(e===
!1&&(g=="]"||g=="}"))--c;else if(e===!1&&c==0&&g==","){d.push(i);i="";continue}i+=g}i.length>0&&d.push(i);c={};f=0;for(h=d.length;f<h;++f)if(b=d[f].match(n.key_value))c[b[1]]=a(b[2]);return c}else return d}function f(a){for(var b=a.children,a=[a.lines.join(" ")],c=0,g=b.length;c<g;++c)a.push(f(b[c]));return a.join("\n")}function h(a){for(var b=a.children,a=a.lines.join("\n"),c=0,g=b.length;c<g;++c)a+=h(b[c]);return a}function p(d){for(var b=null,c={},g=null,i=null,e=null,l=-1,o=[],j=!0,q=0,I=d.length;q<
I;++q)if(!(l!=-1&&l!=d[q].level)){o.push(q);for(var l=d[q].level,g=d[q].lines,i=d[q].children,e=null,r=0,w=g.length;r<w;++r){var k=g[r];if(b=k.match(n.key))if(k=b[1],k[0]=="-"&&(k=k.replace(n.item,""),j&&typeof c.length==="undefined"&&(c=[]),e!=null&&c.push(e),e={},j=!0),typeof b[2]!="undefined")if(b=b[2].replace(n.trim,""),b[0]=="&"){var u=p(i);e!=null?e[k]=u:c[k]=u;m[b.substr(1)]=u}else if(b[0]=="|")e!=null?e[k]=h(i.shift()):c[k]=h(i.shift());else if(b[0]=="*"){if(b=b.substr(1),u={},typeof m[b]!=
"undefined"){for(var t in m[b])u[t]=m[b][t];e!=null?e[k]=u:c[k]=u}}else b[0]==">"?e!=null?e[k]=f(i.shift()):c[k]=f(i.shift()):e!=null?e[k]=a(b):c[k]=a(b);else e!=null?e[k]=p(i):c[k]=p(i);else if(k.match(/^-\s*$/))j&&typeof c.length==="undefined"&&(c=[]),e!=null&&c.push(e),e={},j=!0;else if(b=k.match(/^-\s*(.*)/))e!=null?e.push(a(b[1])):(j&&(j=!1,typeof c.length==="undefined"&&(c=[])),c.push(a(b[1])))}e!=null&&(j&&(j=!1,typeof c.length==="undefined"&&(c=[])),c.push(e))}for(q=o.length-1;q>=0;--q)d.splice.call(d,
o[q],1);return c}var m=[],n={regLevel:/^([\s\-]+)/,invalidLine:/^\-\-\-|^\.\.\.|^\s*#.*|^\s*$/,dashesString:/^\s*\"([^\"]*)\"\s*$/,quotesString:/^\s*\'([^\']*)\'\s*$/,"float":/^[+-]?[0-9]+\.[0-9]+(e[+-]?[0-9]+(\.[0-9]+)?)?$/,integer:/^[+-]?[0-9]+$/,array:/\[\s*(.*)\s*\]/,map:/\{\s*(.*)\s*\}/,key_value:/([a-z0-9_-][ a-z0-9_-]*):( .+)/i,single_key_value:/^([a-z0-9_-][ a-z0-9_-]*):( .+?)$/i,key:/([a-z0-9_-][ a-z0-9_-]+):( .+)?/i,item:/^-\s+/,trim:/^\s+|\s+$/,comment:/([^\'\"#]+([\'\"][^\'\"]*[\'\"])*)*(#.*)?/};
return{eval:function(a){m=[];var b;b=a.split("\n");var f=n.comment,g;for(g in b)if(a=b[g].match(f))typeof a[3]!=="undefined"&&(b[g]=a[0].substr(0,a[0].length-a[3].length));b=b.join("\n");var i;a:{g=n.regLevel;a=n.invalidLine;b=b.split("\n");var e=f=0,h=[],l=new c(-1),j=new c(0);l.addChild(j);var q=[],o="";h.push(j);q.push(f);for(var r=0,t=b.length;r<t;++r)if(o=b[r],!o.match(a)){f=(i=g.exec(o))?i[1].length:0;if(f>e)e=j,j=new c(f),e.addChild(j),h.push(j),q.push(f);else if(f<e){for(var e=!1,k=q.length-
1;k>=0;--k)if(q[k]==f){j=new c(f);h.push(j);q.push(f);h[k].parent!=null&&h[k].parent.addChild(j);e=!0;break}if(!e){i=void 0;break a}}j.lines.push(o.replace(n.trim,""));e=f}i=l}return p(i.children)}}}(),l,o=(document.getElementsByTagName("head")[0]||document.documentElement).firstChild;o&&o.tagName==="SCRIPT"&&o.src.indexOf("gettit")>0?l=o:(o=document.getElementsByTagName("script"),l=o[o.length-1]);(function(c){var a=E(G,c),f=function(){a.cb&&eval(a.cb+"()")},h="?r="+a.version||(new Date).getTime();
if(a.env=="production"&&!a.isDebugging)A(a.jsAssets,a.cssAssets,a.path,h,f);else{var l=[],o=[];m(a.jsAssets,function(a){l.push(z(a))});m(a.cssAssets,function(a){o.push(z(a))});B(a.path+a.assets,h,function(c){var d=J.eval(c),b=[],s=[],g=[];E(a,{templateFunc:d.template_function,templateNs:d.template_namespace,templateExt:d.template_extension});m(C(d.javascripts),function(c){D(l,c)>-1&&m(d.javascripts[c],function(c){c.substr(c.length-3)==".js"?b.push(c):c.substr(c.length-a.templateExt.length)==a.templateExt&&
g.push(c)})});m(C(d.stylesheets),function(a){D(o,a)>-1&&(s=s.concat(d.stylesheets[a]))});A(b,s,a.path,h,function(){g.length||f();var c=0;m(g,function(b){B(a.path+b,h,function(d){H.compile(a.templateNs,z(b),d,a.templateFunc);++c===g.length&&f()})})})})}})({isDebugging:(/debug_assets=(.+?)(&|$)/.exec(location.search)||[,null])[1]==="true",jsAssets:function(){var c=[];m(l.getAttribute("data-js-assets")&&l.getAttribute("data-js-assets").split(",")||[],function(a){c.push(F(a))});return c}(),cssAssets:function(){var c=
[];m(l.getAttribute("data-css-assets")&&l.getAttribute("data-css-assets").split(",")||[],function(a){c.push(F(a))});return c}(),assets:l.getAttribute("data-assets")||void 0,env:l.getAttribute("data-env")||void 0,path:l.getAttribute("data-env-path")||void 0,version:l.getAttribute("data-version")||void 0,cb:l.getAttribute("data-callback")||void 0})})();
